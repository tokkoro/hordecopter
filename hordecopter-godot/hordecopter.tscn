[gd_scene format=3 uid="uid://ddo5hf3gvff11"]

[ext_resource type="Script" uid="uid://cjcl4isvop3nb" path="res://hordecopter.gd" id="1_hordecopter"]
[ext_resource type="Script" uid="uid://bwc8b66rmbyph" path="res://weapons/weapon_system.gd" id="2_weapon_system"]
[ext_resource type="Script" uid="uid://421udilwjuap" path="res://weapons/area_weapon_system.gd" id="3_area_weapon_system"]
[ext_resource type="PackedScene" uid="uid://d25k72efcjldo" path="res://models/vain_body.glb" id="4_body"]
[ext_resource type="Resource" uid="uid://b26uwna5dssms" path="res://weapons/laser_weapon.tres" id="5_laser_weapon"]
[ext_resource type="Resource" uid="uid://kqaffrt5hvoc" path="res://weapons/homing_missile_weapon.tres" id="6_missile_weapon"]
[ext_resource type="Script" uid="uid://nmj5je32etrs" path="res://rollaus_pivot_piste.gd" id="7_rollaus_pivot"]
[ext_resource type="Resource" uid="uid://bar0g1efnvqlw" path="res://weapons/grenade_weapon.tres" id="8_grenade_weapon"]
[ext_resource type="PackedScene" uid="uid://yksjed5m5v1b" path="res://models/vain_ropeli.glb" id="9_ropeli"]
[ext_resource type="Resource" uid="uid://ckexc7c57b1uu" path="res://weapons/plasma_weapon.tres" id="10_plasma_weapon"]
[ext_resource type="Resource" uid="uid://dtq2mw6n4aqm3" path="res://weapons/area_weapon.tres" id="11_area_weapon"]
[ext_resource type="Script" uid="uid://4tcllulb563i" path="res://weapons/orbiting_helicopter_weapon_system.gd" id="12_6gtap"]
[ext_resource type="Texture2D" uid="uid://b0323mruxlisk" path="res://weapons/copters_around.png" id="13_8sv32"]
[ext_resource type="Script" uid="uid://jw2coyki72vv" path="res://weapons/weapon_definition.gd" id="14_t13ue"]
[ext_resource type="PackedScene" uid="uid://bvillwguvjmyl" path="res://weapons/orbiting_ropelli.tscn" id="15_8sv32"]
[ext_resource type="Script" uid="uid://ccb7g4kffyyj6" path="res://enemies/enemy_health_bar.gd" id="16_t13ue"]

[sub_resource type="BoxShape3D" id="BoxShape3D_eifgo"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_area_indicator"]
transparency = 1
albedo_color = Color(0.2, 0.8, 0.4, 0.2509804)
emission = Color(0.2, 0.8, 0.4, 1)
emission_energy_multiplier = 1.4

[sub_resource type="CylinderMesh" id="CylinderMesh_area_indicator"]
top_radius = 1.0
bottom_radius = 1.0
height = 0.05

[sub_resource type="Resource" id="Resource_3adfc"]
script = ExtResource("14_t13ue")
weapon_name = "OrbitingWeaponSystem"
icon = ExtResource("13_8sv32")
fire_mode = 1
metadata/_custom_type_script = "uid://jw2coyki72vv"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_health_bg"]
shading_mode = 0
albedo_color = Color(0.101960786, 0.101960786, 0.101960786, 1)

[sub_resource type="BoxMesh" id="BoxMesh_health_bg"]
size = Vector3(0.98, 0.12, 0.12)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3adfc"]
transparency = 1
shading_mode = 0
albedo_color = Color(1, 0.6431373, 0.2, 1)

[sub_resource type="BoxMesh" id="BoxMesh_health_fill"]
size = Vector3(1, 0.08, 0.08)

[node name="Hordecopter" type="RigidBody3D" unique_id=770129423]
mass = 100.0
script = ExtResource("1_hordecopter")
kp = 250.0
ki = 10.0
kd = 100.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="." unique_id=1321631637]
shape = SubResource("BoxShape3D_eifgo")

[node name="infotext" type="Label3D" parent="." unique_id=74060973]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.1138026, 0.41907665, 0)

[node name="Muzzle" type="Node3D" parent="." unique_id=543964289]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, -1.4)

[node name="WeaponSystem" type="Node3D" parent="." unique_id=1385053237]
script = ExtResource("2_weapon_system")
weapon = ExtResource("5_laser_weapon")

[node name="MissileWeaponSystem" type="Node3D" parent="." unique_id=301106776]
script = ExtResource("2_weapon_system")
weapon = ExtResource("6_missile_weapon")

[node name="GrenadeWeaponSystem" type="Node3D" parent="." unique_id=339619916]
script = ExtResource("2_weapon_system")
weapon = ExtResource("8_grenade_weapon")

[node name="PlasmaWeaponSystem" type="Node3D" parent="." unique_id=1239338582]
script = ExtResource("2_weapon_system")
weapon = ExtResource("10_plasma_weapon")

[node name="AreaWeaponSystem" type="Node3D" parent="." unique_id=1566627557]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.12811616, 0)
script = ExtResource("3_area_weapon_system")
aws_damage_flash_color = Color(0.18604204, 0.72774696, 0.42812437, 0.36862746)
weapon = ExtResource("11_area_weapon")

[node name="AreaIndicator" type="MeshInstance3D" parent="AreaWeaponSystem" unique_id=981061800]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.55, 0)
material_override = SubResource("StandardMaterial3D_area_indicator")
mesh = SubResource("CylinderMesh_area_indicator")

[node name="OrbitingWeaponSystem" type="Node3D" parent="." unique_id=1245228016]
script = ExtResource("12_6gtap")
orbiting_object = ExtResource("15_8sv32")
weapon = SubResource("Resource_3adfc")

[node name="vain_body" parent="." unique_id=1528544377 instance=ExtResource("4_body")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, -0.45981646, 0)

[node name="rollaus_pivot_piste" type="Node3D" parent="." unique_id=2080287499]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.18035194)
script = ExtResource("7_rollaus_pivot")

[node name="vain_ropeli" parent="rollaus_pivot_piste" unique_id=1609318281 instance=ExtResource("9_ropeli")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.45494208, -0.20959833)

[node name="FuelBar" type="Node3D" parent="." unique_id=1304257082]
transform = Transform3D(-1.5517543e-08, -0.355, 0, 0.355, -1.5517543e-08, 0, 0, 0, 0.355, 0.36136544, -0.20244703, 0.22431117)
script = ExtResource("16_t13ue")
always_visible = true
fade_when_full = true

[node name="Background" type="MeshInstance3D" parent="FuelBar" unique_id=1647053598]
material_override = SubResource("StandardMaterial3D_health_bg")
mesh = SubResource("BoxMesh_health_bg")

[node name="Fill" type="MeshInstance3D" parent="FuelBar" unique_id=1037435142]
transform = Transform3D(0.5, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, -0.01)
material_override = SubResource("StandardMaterial3D_3adfc")
mesh = SubResource("BoxMesh_health_fill")
